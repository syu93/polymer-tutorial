<link rel="import" href="../../vendor/polymer/polymer.html">
<!-- <link rel="import" href="../../post-service/post-service.html"> -->

<link rel="import" href="post-card.html">

<dom-module id="post-list">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
      }
    </style>

      <!-- <post-service id="service" posts="{{posts}}"></post-service> -->

      <template is="dom-repeat" items="{{posts}}" as="post">
        <post-card favorite="{{post.favorite}}" on-favorite-tap="handleFavorite" hidden$="{{show}}">
          <img src="../images/{{post.avatar}}.svg" width="70" height="70">
          <h2>{{post.name}}</h2>
          <p>{{post.message}}</p>
        </post-card>
      </template>
  </template>

  <script>
    Polymer({
      is: "post-list",
      ready: function() {
        this.posts = [
          { 
            uid: "001",
            avatar: "avatar-01",
            name: "Alex",
            favorite: "",
            message: "I love sandwich.",
          },
          { 
            uid: "002",
            avatar: "avatar-16",
            name: "Patak",
            favorite: "true",
            message: "I love pizza",
          },
          { 
            uid: "003",
            avatar: "avatar-05",
            name: "Titou",
            favorite: "",
            message: "Toast are greate.",
          },
          { 
            uid: "004",
            avatar: "avatar-04",
            name: "Syu",
            favorite: "",
            message: "Burgers are the best",
          }
        ];
      },
      properties: {
        show: {
          type: Boolean,
          value: false,
          reflect: true,
          notify: true,
        }
      },
      handleFavorite: function(e) {

      },
    });
  </script>
</dom-module>